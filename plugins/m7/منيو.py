import __main__, os, asyncio
from telethon import events

# Ø¬Ù„Ø¨ Ø§Ù„ÙƒÙ„Ø§ÙŠÙ†Øª
client = getattr(__main__, 'client', None)

@client.on(events.NewMessage(outgoing=True, pattern=r"^\.Ù…7$"))
async def menu7(event):
    # Ø§Ù„ÙƒÙ„ÙŠØ´Ø© Ù…Ø§Ù„ØªÙƒ
    klisha = (
        "â˜…â”€â”€â”€â”€â”€â”€â”€â”€â˜­â”€â”€â”€â”€â”€â”€â”€â”€â˜…\n"
        "   â˜­ â€¢ ğ‘†ğ‘‚ğ‘ˆğ‘…ğ¶ğ¸ ğ‘ğ¸ğ‘‡ğ»ğ‘…ğ‘‚ğ‘ â€¢ â˜­\n"
        "                  â˜­ â€¢ Ø³ÙˆØ±Ø³ Ù†ÙŠØ«Ø±ÙˆÙ† â€¢ â˜­\n"
        "â˜…â”€â”€â”€â”€â”€â”€â”€â”€â˜­â”€â”€â”€â”€â”€â”€â”€â”€â˜…\n\n"
        "âš™ï¸ Ø£ÙˆØ§Ù…Ø± Ø§Ù„ÙˆÙ‚ØªÙŠ ÙˆØ§Ù„ØªØ­ÙƒÙ…:\n\n"
        "â€¢ .ÙˆÙ‚ØªÙŠ Ø§Ø³Ù…\n"
        "â¥ Ù„ØªÙØ¹ÙŠÙ„ Ø§Ù„ÙˆÙ‚Øª Ø¨ØªÙˆÙ‚ÙŠØª Ø§Ù„Ø¹Ø±Ø§Ù‚ ÙÙŠ Ø§Ø³Ù…Ùƒ\n\n"
        "â€¢ .ÙˆÙ‚ØªÙŠ Ø¨Ø§ÙŠÙˆ\n"
        "â¥ Ù„ØªÙØ¹ÙŠÙ„ Ø§Ù„ÙˆÙ‚Øª Ø¨ØªÙˆÙ‚ÙŠØª Ø§Ù„Ø¹Ø±Ø§Ù‚ ÙÙŠ Ø¨Ø§ÙŠÙˆÙƒ\n\n"
        "â€¢ .Ø§ÙŠÙ‚Ø§Ù ÙˆÙ‚ØªÙŠ\n"
        "â¥ Ù„Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„ÙˆÙ‚Øª ÙˆØªÙ†Ø¸ÙŠÙ Ø§Ù„Ø­Ø³Ø§Ø¨ ÙÙˆØ±Ø§Ù‹\n\n"
        "â˜…â”€â”€â”€â”€â”€â”€â”€â”€â˜­â”€â”€â”€â”€â”€â”€â”€â”€â˜…\n"
        "ğŸ’¬ Ù…Ù„Ø§Ø­Ø¸Ø©: ØªÙ… Ø§Ù„Ø¨Ø±Ù…Ø¬Ø© Ø¨ÙˆØ§Ø³Ø·Ø© Ù†ÙŠØ«Ø±ÙˆÙ†"
    )

    # ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…Ø³Ø§Ø±Ø§Øª Ø§Ù„Ù…Ø­ØªÙ…Ù„Ø© Ù„Ù„ØµÙˆØ±Ø©
    possible_paths = [
        "assets/TIME.jpg",
        "assets/TIME.png",
        "TIME.jpg"  # ÙÙŠ Ø­Ø§Ù„ ÙƒØ§Ù†Øª Ø¨Ø§Ù„Ø®Ø§Ø±Ø¬
    ]
    
    found_path = None
    for path in possible_paths:
        if os.path.exists(path):
            found_path = path
            break

    if found_path:
        # Ø­Ø°Ù Ø§Ù„Ø£Ù…Ø± (.Ù…7)
        await event.delete()
        # Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ØµÙˆØ±Ø© Ù…Ø¹ Ø§Ù„ÙƒÙ„ÙŠØ´Ø©
        await client.send_file(event.chat_id, found_path, caption=klisha)
    else:
        # Ø¥Ø°Ø§ ÙØ¹Ù„Ø§Ù‹ Ù…Ø§ Ù„Ù‚Ø§Ù‡Ø§ØŒ Ø±Ø§Ø­ ÙŠØ¶Ø·Ø± ÙŠØ¹Ø¯Ù„ Ø§Ù„Ø±Ø³Ø§Ù„Ø© ÙˆÙŠÙƒÙ„Ùƒ Ø´Ù†Ùˆ Ø§Ù„Ù…Ø³Ø§Ø± Ø§Ù„Ù„ÙŠ Ø¨Ø­Ø« ÙÙŠÙ‡
        await event.edit(klisha + f"\n\nâš ï¸ Ø¶Ù„Ø¹ÙŠ Ø§Ù„ØµÙˆØ±Ø© Ù…Ø§ÙƒÙˆ Ø¨Ù€ {os.getcwd()}/assets/")
