import __main__, asyncio
from telethon import events

# Ø¬Ù„Ø¨ Ø§Ù„ÙƒÙ„Ø§ÙŠÙ†Øª
client = getattr(__main__, 'client', None)
VORTEX = ["â—œ", "â—", "â—", "â—Ÿ"]

@client.on(events.NewMessage(outgoing=True, pattern=r"^\.Ù…7$"))
async def menu7(event):
    # Ø±Ø§Ø¨Ø· Ø§Ù„ØµÙˆØ±Ø© Ù…Ø§Ù„ØªÙƒ Ø­Ø·Ù‡ Ù‡Ù†Ø§
    pic_link = "https://graph.org/file/45bd809c97cf4e1666b99.jpg" 

    klisha = (
        "â˜…â”€â”€â”€â”€â”€â”€â”€â”€â˜­â”€â”€â”€â”€â”€â”€â”€â”€â˜…\n"
        "   â˜­ â€¢ ğ‘†ğ‘‚ğ‘ˆğ‘…ğ¶ğ¸ ğ‘ğ¸ğ‘‡ğ»ğ‘…ğ‘‚ğ‘ â€¢ â˜­\n"
        "                  â˜­ â€¢ Ø³ÙˆØ±Ø³ Ù†ÙŠØ«Ø±ÙˆÙ† â€¢ â˜­\n"
        "â˜…â”€â”€â”€â”€â”€â”€â”€â”€â˜­â”€â”€â”€â”€â”€â”€â”€â”€â˜…\n\n"
        "âš™ï¸ Ø£ÙˆØ§Ù…Ø± Ø§Ù„ÙˆÙ‚ØªÙŠ ÙˆØ§Ù„ØªØ­ÙƒÙ…:\n\n"
        "â€¢ .ÙˆÙ‚ØªÙŠ Ø§Ø³Ù…\n"
        "â¥ Ù„ØªÙØ¹ÙŠÙ„ Ø§Ù„ÙˆÙ‚Øª Ø¨ØªÙˆÙ‚ÙŠØª Ø§Ù„Ø¹Ø±Ø§Ù‚ ÙÙŠ Ø§Ø³Ù…Ùƒ\n\n"
        "â€¢ .ÙˆÙ‚ØªÙŠ Ø¨Ø§ÙŠÙˆ\n"
        "â¥ Ù„ØªÙØ¹ÙŠÙ„ Ø§Ù„ÙˆÙ‚Øª Ø¨ØªÙˆÙ‚ÙŠØª Ø§Ù„Ø¹Ø±Ø§Ù‚ ÙÙŠ Ø¨Ø§ÙŠÙˆÙƒ\n\n"
        "â€¢ .Ø§ÙŠÙ‚Ø§Ù ÙˆÙ‚ØªÙŠ\n"
        "â¥ Ù„Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„ÙˆÙ‚Øª ÙˆØªÙ†Ø¸ÙŠÙ Ø§Ù„Ø­Ø³Ø§Ø¨ ÙÙˆØ±Ø§Ù‹\n\n"
        "â˜…â”€â”€â”€â”€â”€â”€â”€â”€â˜­â”€â”€â”€â”€â”€â”€â”€â”€â˜…\n"
        "ğŸ’¬ Ù…Ù„Ø§Ø­Ø¸Ø©: ØªÙ… Ø§Ù„Ø¨Ø±Ù…Ø¬Ø© Ø¨ÙˆØ§Ø³Ø·Ø© Ù†ÙŠØ«Ø±ÙˆÙ†"
    )

    # --- Ø£Ù†ÙŠÙ…ÙŠØ´Ù† Ø§Ù„Ø¯ÙˆØ§Ù…Ø© Ø§Ù„Ø§Ø­ØªØ±Ø§ÙÙŠ (Ù„Ù…Ø¯Ø© Ø«Ø§Ù†ÙŠØ© ØªÙ‚Ø±ÙŠØ¨Ø§Ù‹) ---
    for i in range(6): 
        f = VORTEX[i % 4]
        await event.edit(f"**{f} Ø¬Ù€Ø§Ø±ÙŠ ÙÙ€ØªÙ€Ø­ Ø§Ù„Ù€Ù…Ù€Ù†Ù€ÙŠÙ€Ùˆ {f}**")
        await asyncio.sleep(0.2)

    # Ø­Ø°Ù Ø§Ù„Ø£Ù†ÙŠÙ…ÙŠØ´Ù† Ù„Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„ØµÙˆØ±Ø©
    await event.delete()

    try:
        # Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ØµÙˆØ±Ø© Ù…Ø¹ Ø§Ù„ÙƒÙ„ÙŠØ´Ø©
        await client.send_file(event.chat_id, pic_link, caption=klisha)
    except Exception as e:
        # Ø¥Ø°Ø§ ØµØ§Ø± Ø®Ø·Ø£ Ø¨Ø§Ù„Ø±Ø§Ø¨Ø·ØŒ ÙŠØ±Ø³Ù„ Ø§Ù„ÙƒÙ„ÙŠØ´Ø© ÙƒØ±Ø³Ø§Ù„Ø© Ù†ØµÙŠØ© Ø­ØªÙ‰ Ù…Ø§ ÙŠØªÙØ´Ù„ Ø§Ù„Ø³ÙˆØ±Ø³
        await client.send_message(event.chat_id, klisha)
